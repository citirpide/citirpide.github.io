<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Buca Ã‡Ä±tÄ±r Pide | Pide, Kebap, Lahmacun, Izgara â€“ Buca/Ä°zmir</title>

<!-- SEO -->
<meta name="description" content="Buca Ã‡Ä±tÄ±r Pide: Pide, lahmacun, kebap, Ä±zgara. WhatsApp sipariÅŸ %10 indirim. Menderes, Erdem Cd. No:125 Buca/Ä°zmir." />
<meta name="theme-color" content="#0c1016" />
<link rel="canonical" href="https://example.com/" />

<!-- Icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />

<style>
  /* ===== Light, fast, premium palette ===== */
  :root{
    --bg:#0c1016;
    --surface:#0f141b;
    --surface-2:#0b1016;
    --text:#eef2f6;
    --muted:#b5bfcc;
    --gold:#e9d897;
    --gold-2:#c9a86b;
    --line:rgba(233,216,151,.28);
    --accent:#37c993;
    --danger:#ff6b6b;
    --overlay:rgba(6,8,12,.6);
    --panel:#0e131a;
  }

  *{box-sizing:border-box}
  html,body{
    margin:0;background:var(--bg);color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,'Noto Sans',sans-serif;
    scroll-behavior:smooth;
  }
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  body.lock-scroll{overflow:hidden;touch-action:none;}

  /* ===== Header ===== */
  header{
    position:sticky;top:0;z-index:1000;
    background:var(--surface-2);
    color:var(--gold);
    padding:18px 16px;
    text-align:center;font-weight:800;letter-spacing:.2px;
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  header .title{font-size:1.75rem}
  header .subtitle{color:var(--muted);font-size:.95rem;margin-top:4px}

  main{padding:16px;max-width:1100px;margin:0 auto}

  /* ===== Top buttons ===== */
  .order-hub{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:12px}
  .btn{
    display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;
    background:#151b23;color:#fff;font-weight:800;border:1px solid rgba(255,255,255,.08)
  }
  .btn.secondary{background:#121820;color:var(--text);border:1px solid var(--line)}

  /* ===== Category cards ===== */
  .cat{
    background:var(--surface);border-radius:14px;margin:14px 0;
    border:1px solid rgba(255,255,255,.08);
    contain:content;
  }
  .cat h2{
    margin:0;display:flex;align-items:center;gap:10px;padding:14px 14px;cursor:pointer;
    background:var(--surface-2);
    border-left:6px solid var(--gold);
  }
  .cat h2 .chev{margin-left:auto}
  .cat .content{
    max-height:0;opacity:0;overflow:hidden;transition:max-height .35s ease,opacity .3s ease,padding .3s ease;
    content-visibility:auto; contain-intrinsic-size:1px 400px;
  }
  .cat.open .content{max-height:2400px;opacity:1;padding:6px 0}

  /* ===== Items ===== */
  .item{
    display:flex;align-items:center;justify-content:space-between;gap:10px;
    padding:10px 14px;border-bottom:1px dashed var(--line);font-size:1rem;
  }
  .item:last-child{border-bottom:none}
  .item .name{display:flex;align-items:center;gap:8px;min-width:0}
  .item .price{font-variant-numeric:tabular-nums;color:var(--gold-2);font-weight:900}

  .right-box{display:flex;align-items:center;gap:10px;flex-shrink:0}

  .add-btn{
    padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.1);
    background:#161c25;color:#fff;font-weight:800;cursor:pointer;display:inline-flex;align-items:center;gap:8px;
  }
  .add-btn i{color:var(--accent)}

  /* ===== Section titles ===== */
  .section-title{margin:20px 0 8px;font-weight:900;letter-spacing:.3px;color:var(--gold)}
  .divider{height:1px;background:linear-gradient(90deg,transparent,var(--line),transparent);margin:6px 0 12px}

  /* ===== Cards ===== */
  .grid{display:grid;gap:12px}
  @media(min-width:720px){.grid{grid-template-columns:1.1fr .9fr}}
  .card{background:var(--surface);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px}

  /* ===== Footer ===== */
  footer{margin-top:20px;background:var(--surface-2);border-top:1px solid rgba(255,255,255,.08);padding:14px}
  .note{color:var(--muted);font-size:.95rem;text-align:center}

  /* ===== Dock ===== */
  .dock{position:fixed;left:0;right:0;bottom:12px;z-index:1000;display:flex;gap:10px;justify-content:center;pointer-events:none;}
  .dock .dock-inner{
    display:flex;background:#101620;border:1px solid rgba(255,255,255,.08);
    border-radius:14px;overflow:hidden;pointer-events:auto
  }
  .dock .dock-btn{display:flex;align-items:center;gap:8px;padding:10px 12px;color:var(--text);font-weight:800;border-right:1px solid rgba(255,255,255,.08)}
  .dock .dock-btn:last-child{border-right:none}

  /* ===== Cart Overlay/Sheet ===== */
  .cart-overlay[hidden]{display:none;}
  .cart-overlay{position:fixed; inset:0; background:var(--overlay); display:flex; align-items:flex-end; justify-content:center; z-index:1200;}
  .cart-sheet{
    width:min(720px,100vw); height:min(92dvh, 820px); max-height:92dvh;
    background:var(--surface-2);
    border:1px solid rgba(255,255,255,.08); border-radius:16px 16px 0 0; overflow:hidden; display:flex; flex-direction:column;
  }
  @supports not (height: 1dvh){ .cart-sheet{ height:92vh; max-height:92vh; } }
  @media (min-width:900px){ .cart-overlay{align-items:center;} .cart-sheet{border-radius:16px; height:72vh; max-height:72vh;} }
  .cart-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#0f141b;border-bottom:1px solid rgba(255,255,255,.08)}
  .cart-header h4{margin:0;font-size:1.05rem;color:var(--gold)}
  .close-x{background:none;border:none;color:#e7ecf2;font-size:1.15rem;cursor:pointer}

  .cart-body{flex:1;overflow:auto;-webkit-overflow-scrolling:touch;padding-bottom:4px;}
  .cart-empty{padding:16px;text-align:center;color:var(--muted)}
  .cart-item{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:center;padding:12px 14px;border-bottom:1px dashed var(--line)}
  .qty{display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:4px 8px;background:#121823}
  .qty button{background:none;border:none;color:#f0f4f8;font-weight:900;cursor:pointer;font-size:1rem;width:22px;height:22px;line-height:22px}
  .remove{color:var(--danger);cursor:pointer}

  .totals{padding:12px 14px;background:#0f141b;border-top:1px solid rgba(255,255,255,.08)}
  .totals .row{display:flex;justify-content:space-between;margin:6px 0}
  .form{padding:12px 14px;border-top:1px solid rgba(255,255,255,.08);display:grid;gap:8px}
  .form input,.form textarea{width:100%;background:#0b1016;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:10px 12px;color:#eef2f6;font-size:.95rem}
  .form textarea{min-height:70px;resize:vertical}
  .pay{display:flex;gap:14px;align-items:center;margin-top:4px;color:#d7dde8;font-size:.95rem}
  .order-btn{
    margin:10px 14px 14px 14px;width:calc(100% - 28px);padding:12px 14px;border-radius:12px;
    border:1px solid rgba(255,255,255,.08); background:#25D366; color:#0a0a0a; font-weight:900; cursor:pointer;
  }

  .strike{color:#96a3b4;text-decoration:line-through}
  .disc{color:var(--accent);font-weight:900}

  /* ===== Admin Modal ===== */
  .admin-overlay[hidden]{display:none;}
  .admin-overlay{
    position:fixed; inset:0; background:rgba(0,0,0,.65);
    display:flex; align-items:center; justify-content:center; z-index:1400;
  }
  .admin-panel{
    width:min(960px,96vw); max-height:92vh; overflow:auto;
    background:var(--panel); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:16px;
  }
  .admin-panel h3{margin:0 0 10px; color:var(--gold)}
  .admin-row{display:grid; grid-template-columns:1fr 120px 80px; gap:8px; align-items:center; margin-bottom:8px}
  .admin-row input{width:100%; background:#0b1016; border:1px solid rgba(255,255,255,.12); border-radius:8px; padding:8px 10px; color:#fff}
  .admin-actions{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0}
  .a-btn{background:#16202c; color:#fff; border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:8px 10px; cursor:pointer; font-weight:800}
  .a-btn.danger{background:#2a1618; border-color:#632a2f; color:#ffb3b3}
  .admin-cat{border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px; margin:10px 0; background:#0d131b}
  .admin-cat h4{margin:0 0 8px}
  .admin-cat .mini-actions{display:flex; gap:8px; flex-wrap:wrap; margin:6px 0 10px}
  .admin-footer{display:flex; justify-content:space-between; align-items:center; gap:8px; margin-top:10px}
  .admin-note{color:#b9c3d1; font-size:.9rem}
  .admin-close{background:none; border:none; color:#fff; font-size:1.1rem; cursor:pointer}
</style>
</head>
<body>

<header id="siteHeader">
  <div class="title">ğŸ½ï¸ Buca Ã‡Ä±tÄ±r Pide</div>
  <div class="subtitle">SÄ±cak â€“ Taze â€“ HÄ±zlÄ± Teslimat â€¢ Buca / Ä°zmir</div>
</header>

<main>

  <!-- Quick actions -->
  <div class="order-hub" id="orderHub">
    <a class="btn" href="tel:+902324424555"><i class="fa-solid fa-phone"></i> Tek TÄ±kla Ara</a>
    <a class="btn secondary" href="https://yemek.go.link/2hf3u" target="_blank" rel="noopener"><i class="fa-solid fa-bowl-food"></i> Yemeksepeti</a>
    <a class="btn secondary" href="https://getir.com/yemek/restoran/buca-citir-pide-buca-izmir/" target="_blank" rel="noopener"><i class="fa-solid fa-bolt"></i> Getir</a>
    <a class="btn secondary" href="https://tgoyemek.com/restoranlar/230624" target="_blank" rel="noopener"><i class="fa-solid fa-box-open"></i> Trendyol</a>
  </div>

  <!-- MENU -->
  <h3 class="section-title">MenÃ¼</h3>
  <div class="divider"></div>

  <!-- Dinamik menÃ¼ burada Ã¼retilecek -->
  <div id="menuRoot">
    <!-- ===== Statik baÅŸlangÄ±Ã§: localStorage yoksa bu iÃ§erik kullanÄ±lÄ±r ===== -->

    <!-- Pide Ã‡eÅŸitleri -->
    <section class="cat open">
      <h2><i class="fa-solid fa-pizza-slice"></i> Pide Ã‡eÅŸitleri <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">KÄ±ymalÄ± Sade</span><span class="price">175,00â‚º</span></div>
        <div class="item"><span class="name">KÄ±ymalÄ± YumurtalÄ±</span><span class="price">175,00â‚º</span></div>
        <div class="item"><span class="name">KÄ±ymalÄ± KaÅŸarlÄ±</span><span class="price">200,00â‚º</span></div>
        <div class="item"><span class="name">KaÅŸarlÄ± Sade</span><span class="price">180,00â‚º</span></div>
        <div class="item"><span class="name">KaÅŸarlÄ± YumurtalÄ±</span><span class="price">180,00â‚º</span></div>
        <div class="item"><span class="name">Vejetaryen (KaÅŸar, Domates, YeÅŸil Biber, Mantar)</span><span class="price">150,00â‚º</span></div>
        <div class="item"><span class="name">KuÅŸbaÅŸÄ±lÄ± Sade</span><span class="price">200,00â‚º</span></div>
        <div class="item"><span class="name">KuÅŸbaÅŸÄ±lÄ± KaÅŸarlÄ±</span><span class="price">225,00â‚º</span></div>
        <div class="item"><span class="name">KuÅŸbaÅŸÄ±lÄ± KaÅŸarlÄ± MantarlÄ±</span><span class="price">235,00â‚º</span></div>
        <div class="item"><span class="name">Tahinli Pide</span><span class="price">200,00â‚º</span></div>
      </div>
    </section>
    
    <!-- Lahmacun Ã‡eÅŸitleri -->
    <section class="cat">
      <h2><i class="fa-solid fa-bread-slice"></i> Lahmacun Ã‡eÅŸitleri <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">Lahmacun</span><span class="price">125,00â‚º</span></div>
        <div class="item"><span class="name">Lahmacun (KÄ±ymalÄ±, KaÅŸarlÄ±)</span><span class="price">150,00â‚º</span></div>
        <div class="item"><span class="name">Lahmacun (KÄ±ymalÄ±, KaÅŸarlÄ±, MantarlÄ±)</span><span class="price">160,00â‚º</span></div>
      </div>
    </section>

    <!-- Kebaplar -->
    <section class="cat">
      <h2><i class="fa-solid fa-fire-burner"></i> Kebaplar <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">Adana Kebap</span><span class="price">250,00â‚º</span></div>
        <div class="item"><span class="name">Urfa Kebap</span><span class="price">250,00â‚º</span></div>
        <div class="item"><span class="name">Izgara KÃ¶fte</span><span class="price">250,00â‚º</span></div>
        <div class="item"><span class="name">Tavuk Izgara</span><span class="price">250,00â‚º</span></div>
      </div>
    </section>
    
    <!-- DÃ¼rÃ¼mler -->
    <section class="cat">
      <h2>ğŸŒ¯ DÃ¼rÃ¼mler <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">Adana DÃ¼rÃ¼m</span><span class="price">150,00â‚º</span></div>
        <div class="item"><span class="name">Urfa DÃ¼rÃ¼m</span><span class="price">150,00â‚º</span></div>  
        <div class="item"><span class="name">Izgara KÃ¶fte DÃ¼rÃ¼m</span><span class="price">150,00â‚º</span></div>
        <div class="item"><span class="name">Tavuk Izgara DÃ¼rÃ¼m</span><span class="price">150,00â‚º</span></div>   
        <div class="item"><span class="name">Lahmacun DÃ¼rÃ¼m</span><span class="price">125,00â‚º</span></div>
      </div>
    </section>
    
    <!-- Kiremitte Ã‡eÅŸitleri -->
    <section class="cat">
      <h2><i class="fa-solid fa-bowl-food"></i> Kiremitte Ã‡eÅŸitleri <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">Kiremitte Tavuk</span><span class="price">250,00â‚º</span></div>
        <div class="item"><span class="name">Kiremitte Tavuk KaÅŸarlÄ±</span><span class="price">270,00â‚º</span></div>
        <div class="item"><span class="name">Kiremitte Tavuk KaÅŸarlÄ± MantarlÄ±</span><span class="price">280,00â‚º</span></div>
        <div class="item"><span class="name">Kiremitte KÃ¶fte</span><span class="price">250,00â‚º</span></div>
        <div class="item"><span class="name">Kiremitte KÃ¶fte KaÅŸarlÄ±</span><span class="price">270,00â‚º</span></div>
        <div class="item"><span class="name">Kiremitte KÃ¶fte KaÅŸarlÄ± MantarlÄ±</span><span class="price">280,00â‚º</span></div>
      </div>
    </section>

    <!-- KampanyalÄ± MenÃ¼ler -->
    <section class="cat">
      <h2>ğŸ‰ KampanyalÄ± MenÃ¼ler <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item">
          <span class="name">2'li Lahmacun MenÃ¼</span>
          <span class="price">224,00â‚º <del class="muted" style="margin-left:6px;color:#9aa6bb">280,00â‚º</del></span>
          <div class="desc" style="color:#c8d0dc">2 Adet Lahmacun + Salata + Haydari + Ã‡iÄŸ KÃ¶fte</div>
        </div>
        <div class="item">
          <span class="name">2'li KÄ±ymalÄ± KaÅŸarlÄ± Pide MenÃ¼</span>
          <span class="price">360,00â‚º <del class="muted" style="margin-left:6px;color:#9aa6bb">450,00â‚º</del></span>
          <div class="desc" style="color:#c8d0dc">2 Adet KÄ±ymalÄ± KaÅŸarlÄ± Pide + Mevsim Salata + Haydari + Ã‡iÄŸ KÃ¶fte</div>
        </div>
        <div class="item">
          <span class="name">2'li KÄ±ymalÄ± Pide MenÃ¼</span>
          <span class="price">320,00â‚º <del class="muted" style="margin-left:6px;color:#9aa6bb">400,00â‚º</del></span>
          <div class="desc" style="color:#c8d0dc">2 Adet KÄ±ymalÄ± Pide + Salata + Haydari + Ã‡iÄŸ KÃ¶fte</div>
        </div>
      </div>
    </section>

    <!-- Ä°Ã§ecekler -->
    <section class="cat">
      <h2><i class="fa-solid fa-mug-saucer"></i> Ä°Ã§ecekler <i class="fa-solid fa-chevron-right chev"></i></h2>
      <div class="content">
        <div class="item"><span class="name">Kola</span><span class="price">50,00â‚º</span></div>
        <div class="item"><span class="name">Light - Zero</span><span class="price">50,00â‚º</span></div>
        <div class="item"><span class="name">Fanta</span><span class="price">50,00â‚º</span></div>
        <div class="item"><span class="name">Sprite</span><span class="price">50,00â‚º</span></div>
        <div class="item"><span class="name">NiÄŸde Gazozu</span><span class="price">40,00â‚º</span></div>
        <div class="item"><span class="name">1 lt Kola</span><span class="price">80,00â‚º</span></div>
        <div class="item"><span class="name">Åalgam Suyu</span><span class="price">50,00â‚º</span></div>
        <div class="item"><span class="name">BÃ¼yÃ¼k Ayran</span><span class="price">35,00â‚º</span></div>
        <div class="item"><span class="name">KÃ¼Ã§Ã¼k Ayran</span><span class="price">25,00â‚º</span></div>
        <div class="item"><span class="name">Soda</span><span class="price">30,00â‚º</span></div>
        <div class="item"><span class="name">Su</span><span class="price">15,00â‚º</span></div>
      </div>
    </section>

    <!-- ===== Statik bitiÅŸ ===== -->
  </div>

  <!-- Bilgiler -->
  <h3 class="section-title">Bilgiler</h3>
  <div class="divider"></div>

  <div class="grid">
    <div class="card">
      <h4 style="margin:0 0 8px;color:var(--gold)">Ã‡alÄ±ÅŸma Saatleri</h4>
      <div class="item" style="border:none;padding:8px 0">
        <div><strong>Pazartesi â€“ Pazar (Ã§arÅŸamba gÃ¼nleri kapalÄ±yÄ±z)</strong></div>
        <div class="muted">12:00 â€“ 23:00</div>
      </div>
    </div>

    <div class="card">
      <h4 style="margin:0 0 8px;color:var(--gold)">Ä°letiÅŸim</h4>
      <p style="margin:6px 0"><i class="fa-solid fa-phone"></i> <a href="tel:+902324424555">+90 (0232) 442 45 55</a></p>
      <p style="margin:6px 0"><i class="fa-solid fa-location-dot"></i> Menderes, Erdem Cd. No:125 Buca/Ä°zmir</p>
      <p class="muted" style="margin:10px 0 0"><i class="fa-solid fa-circle-info"></i> 200â‚º altÄ± sipariÅŸlerde adrese gÃ¶nderim yapÄ±lmÄ±yor.</p>
    </div>
  </div>

  <!-- Harita: tÄ±klayÄ±nca yÃ¼kle -->
  <div class="card" style="margin-top:14px;padding:10px;overflow:hidden">
    <button id="showMap" class="add-btn" style="width:100%;justify-content:center">
      <i class="fa-solid fa-map-location-dot"></i> HaritayÄ± GÃ¶ster
    </button>
    <div id="mapHolder" style="margin-top:10px"></div>
  </div>

  <footer>
    <p class="note">En iyi malzemelerle hazÄ±rlanmÄ±ÅŸ, sÄ±cak ve taze Ã¼rÃ¼nler sunar; mÃ¼ÅŸterilerimize hÄ±zlÄ± ve gÃ¼ler yÃ¼zlÃ¼ hizmet veririz.</p>
  </footer>
</main>

<!-- Dock -->
<nav class="dock" aria-label="HÄ±zlÄ± Ä°ÅŸlemler">
  <div class="dock-inner">
    <a class="dock-btn" href="tel:+902324424555"><i class="fa-solid fa-phone"></i> Ara</a>
    <a class="dock-btn" href="javascript:void(0)" id="openCart"><i class="fa-solid fa-basket-shopping"></i> <span id="cartBadge">Sepet (0) â€” 0,00â‚º</span></a>
  </div>
</nav>

<!-- CART OVERLAY/SHEET -->
<div class="cart-overlay" id="cartOverlay" hidden>
  <div class="cart-sheet" role="dialog" aria-modal="true" aria-labelledby="cartTitle" id="cartSheet" onclick="event.stopPropagation()">
    <div class="cart-header">
      <h4 id="cartTitle">ğŸ§¾ Sepetiniz</h4>
      <button class="close-x" id="closeCart" title="Kapat"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="cart-body" id="cartItems"></div>
    <div class="totals">
      <div class="row"><span>Ara Toplam</span><strong id="subTotal">0,00â‚º</strong></div>
      <div class="row"><span>WhatsApp Ä°ndirimi (%10)</span><strong id="discount">-0,00â‚º</strong></div>
      <div class="row" style="font-weight:900;color:var(--gold)"><span>Ã–denecek</span><strong id="grandTotal">0,00â‚º</strong></div>
      <div class="row muted-mini"><span>Not:</span><span>WhatsApp sipariÅŸlerine %10 indirim uygulanÄ±r.</span></div>
    </div>
    <div class="form">
      <input id="custName" placeholder="Ad Soyad" autocomplete="name"/>
      <textarea id="custAddress" placeholder="Adres (Mahalle/Cadde, No, Kat, Daire)"></textarea>
      <textarea id="custNote" placeholder="SipariÅŸ notu (isteÄŸe baÄŸlÄ±)"></textarea>
      <div class="pay">
        <span>Ã–deme:</span>
        <label><input type="radio" name="pay" value="Nakit" checked> Nakit</label>
        <label><input type="radio" name="pay" value="Kart"> Kart</label>
      </div>
    </div>
    <button class="order-btn" id="sendWhatsapp"><i class="fa-brands fa-whatsapp"></i> WhatsAppâ€™tan GÃ¶nder</button>
  </div>
</div>

<!-- ADMIN OVERLAY -->
<div class="admin-overlay" id="adminOverlay" hidden>
  <div class="admin-panel" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
      <h3 id="adminTitle">ğŸ”§ YÃ¶netici Paneli</h3>
      <button class="admin-close" id="closeAdmin" title="Kapat"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="admin-actions">
      <button class="a-btn" id="addCategory"><i class="fa-solid fa-folder-plus"></i> Kategori Ekle</button>
      <button class="a-btn" id="exportMenu"><i class="fa-solid fa-file-export"></i> DÄ±ÅŸa Aktar (JSON)</button>
      <label class="a-btn" for="importFile" style="cursor:pointer"><i class="fa-solid fa-file-import"></i> Ä°Ã§e Aktar (JSON)</label>
      <input type="file" id="importFile" accept="application/json" style="display:none">
      <button class="a-btn danger" id="resetMenu"><i class="fa-solid fa-rotate-left"></i> VarsayÄ±lanÄ± YÃ¼kle</button>
    </div>
    <div id="adminContent"></div>
    <div class="admin-footer">
      <span class="admin-note">DeÄŸiÅŸiklikler kaydedildiÄŸinde menÃ¼ yeniden Ã§izilir ve tarayÄ±cÄ±da saklanÄ±r.</span>
      <div style="display:flex; gap:8px">
        <button class="a-btn" id="saveAdmin"><i class="fa-solid fa-floppy-disk"></i> Kaydet</button>
      </div>
    </div>
  </div>
</div>

<script>
  /* ===== CONFIG ===== */
  const WHATSAPP_TO = "905517112064";
  const CURRENCY = "â‚º";
  const DISCOUNT_RATE = 0.10;

  /* ===== Helpers ===== */
  function parsePrice(text){
    // "1.234,50â‚º" -> 1234.50
    const m = String(text).match(/(\d{1,3}(?:\.\d{3})*|\d+),(\d{2})/);
    if(!m) return 0;
    return parseFloat(m[0].replace(/\./g,'').replace(',','.'));
  }
  function formatTL(n){
    try{ return n.toLocaleString('tr-TR',{minimumFractionDigits:2,maximumFractionDigits:2})+CURRENCY; }
    catch(e){ return (Math.round(n*100)/100).toFixed(2).replace('.',',')+CURRENCY; }
  }

  /* ===== CART STATE ===== */
  const openCartBtn = document.getElementById('openCart');
  const closeCartBtn = document.getElementById('closeCart');
  const cartOverlay = document.getElementById('cartOverlay');
  const cartItemsEl = document.getElementById('cartItems');
  const subTotalEl = document.getElementById('subTotal');
  const discountEl = document.getElementById('discount');
  const grandTotalEl = document.getElementById('grandTotal');
  const cartBadge = document.getElementById('cartBadge');

  const nameEl = document.getElementById('custName');
  const addrEl = document.getElementById('custAddress');
  const noteEl = document.getElementById('custNote');
  const sendBtn = document.getElementById('sendWhatsapp');

  let cart = [];
  const LS_CART = "buca-citir-cart";
  const LS_MENU = "buca-citir-menu-v1";

  function loadCart(){
    try{ cart = JSON.parse(localStorage.getItem(LS_CART)) || []; } catch(e){ cart = []; }
    renderCart();
  }
  function saveCart(){ localStorage.setItem(LS_CART, JSON.stringify(cart)); }

  function cartTotals(){
    const sub = cart.reduce((s,i)=> s + i.price*i.qty, 0);
    const disc = sub*DISCOUNT_RATE;
    const grand = Math.max(0, sub-disc);
    const count = cart.reduce((s,i)=> s + i.qty, 0);
    return {sub, disc, grand, count};
  }

  function renderCart(){
    if(cart.length===0){
      cartItemsEl.innerHTML = '<div class="cart-empty">Sepetiniz boÅŸ. MenÃ¼lerden Ã¼rÃ¼n ekleyin.</div>';
    }else{
      cartItemsEl.innerHTML = cart.map((i,idx)=>{
        const unitDisc = i.price*(1-DISCOUNT_RATE);
        return `
          <div class="cart-item">
            <div>
              <strong>${i.name}</strong>
              <div class="muted-mini">
                <span class="strike">${formatTL(i.price)}</span>
                &nbsp;â†’&nbsp;<span class="disc">${formatTL(unitDisc)}</span> / adet
              </div>
            </div>
            <div class="qty" aria-label="Adet">
              <button aria-label="Azalt" onclick="decItem(${idx})">âˆ’</button>
              <span><strong>${i.qty}</strong></span>
              <button aria-label="ArttÄ±r" onclick="incItem(${idx})">ï¼‹</button>
            </div>
            <div>
              <strong>${formatTL(unitDisc*i.qty)}</strong>
              <div class="remove" title="KaldÄ±r" onclick="removeItem(${idx})"><i class="fa-solid fa-trash-can"></i></div>
            </div>
          </div>
        `;
      }).join('');
    }
    const {sub, disc, grand, count} = cartTotals();
    subTotalEl.textContent = formatTL(sub);
    discountEl.textContent = '-' + formatTL(disc);
    grandTotalEl.textContent = formatTL(grand);
    cartBadge.textContent = `Sepet (${count}) â€” ${formatTL(grand)}`;
  }

  function saveAndRender(){ saveCart(); renderCart(); }
  window.incItem = (i)=>{ cart[i].qty++; saveAndRender(); }
  window.decItem = (i)=>{ cart[i].qty = Math.max(1, cart[i].qty-1); saveAndRender(); }
  window.removeItem = (i)=>{ cart.splice(i,1); saveAndRender(); }

  function openCart(){ cartOverlay.hidden=false; document.body.classList.add('lock-scroll'); }
  function closeCart(){ cartOverlay.hidden=true; document.body.classList.remove('lock-scroll'); }
  openCartBtn.addEventListener('click', (e)=>{ e.preventDefault(); openCart(); }, {passive:true});
  closeCartBtn.addEventListener('click', closeCart, {passive:true});
  cartOverlay.addEventListener('click', closeCart, {passive:true});
  document.addEventListener('keydown',e=>{ if(e.key==='Escape') closeCart(); });

  function selectedPayment(){
    const el = document.querySelector('input[name="pay"]:checked');
    return el ? el.value : 'Nakit';
  }

  function iconForItem(name){
    const n = name.toLowerCase();
    if(n.includes('dÃ¼rÃ¼m')) return 'ğŸŒ¯';
    if(n.includes('lahmacun') || n.includes('pide')) return 'ğŸ«“';
    if(n.includes('kebap') || n.includes('kÃ¶fte') || n.includes('tavuk')) return 'ğŸ–';
    if(n.includes('ayran') || n.includes('kola') || n.includes('fanta') || n.includes('sprite') || n.includes('soda') || n.includes('gazoz') || n.includes('su') || n.includes('ÅŸalgam')) return 'ğŸ¥¤';
    return 'ğŸ½ï¸';
  }

  function buildMessage(){
    const {sub, disc, grand} = cartTotals();
    const lines = [];
    lines.push("ğŸ§¾ Buca Ã‡Ä±tÄ±r Pide - Online SipariÅŸ");
    lines.push("================================");
    if(cart.length){
      lines.push("ğŸ›’ ÃœrÃ¼nler:");
      cart.forEach(i=>{
        const unitDisc = i.price*(1-DISCOUNT_RATE);
        const icon = iconForItem(i.name);
        lines.push(`â€¢ ${icon} ${i.name} x ${i.qty} = ${formatTL(i.price*i.qty)} â†’ ${formatTL(unitDisc*i.qty)}`);
      });
      lines.push("--------------------------------");
      lines.push(`ğŸ’µ Ara Toplam: ${formatTL(sub)}`);
      lines.push(`ğŸ WhatsApp Ä°ndirimi (%10): -${formatTL(disc)}`);
      lines.push(`âœ… Ã–denecek: ${formatTL(grand)}`);
      lines.push("â„¹ï¸ WhatsApp ile verilen sipariÅŸlerde %10 indirim uygulanmÄ±ÅŸtÄ±r.");
    }else{
      lines.push("(Sepet boÅŸ)");
    }
    lines.push("");
    lines.push(`ğŸ‘¤ Ad Soyad: ${nameEl.value || "-"}`);
    lines.push(`ğŸ“ Adres: ${addrEl.value || "-"}`);
    if(noteEl.value.trim()) lines.push(`âœï¸ Not: ${noteEl.value.trim()}`);
    lines.push(`ğŸ’³ Ã–deme YÃ¶ntemi: ${selectedPayment()}`);
    lines.push("");
    lines.push("ğŸšš MÃ¼mkÃ¼nse konum paylaÅŸabilir misiniz?");
    return lines.join("\n");
  }

  function sendToWhatsapp(){
    if(!cart.length){ alert("Sepetiniz boÅŸ. LÃ¼tfen Ã¼rÃ¼n ekleyin."); return; }
    if(!nameEl.value.trim() || !addrEl.value.trim()){ alert("LÃ¼tfen ad soyad ve adres bilgilerini doldurun."); return; }
    const url = `https://wa.me/${WHATSAPP_TO}?text=${encodeURIComponent(buildMessage())}`;
    window.open(url, "_blank");
  }
  document.getElementById('sendWhatsapp').addEventListener('click', sendToWhatsapp, {passive:true});

  /* ===== Add to cart ===== */
  function addToCart(name, price){
    const idx = cart.findIndex(i=>i.name===name && i.price===price);
    if(idx>-1) cart[idx].qty += 1;
    else cart.push({name, price, qty:1});
    try{ if(navigator.vibrate) navigator.vibrate(10); }catch(e){}
    saveAndRender();
  }

  function enhanceMenu(){
    document.querySelectorAll('#menuRoot section.cat .content .item').forEach((row)=>{
      const nameEl = row.querySelector('.name');
      const priceEl = row.querySelector('.price');
      if(!nameEl || !priceEl) return;
      if(row.querySelector('.add-btn')) return;

      const name = nameEl.textContent.trim();
      const price = parsePrice(priceEl.textContent.trim());

      const right = document.createElement('div');
      right.className = 'right-box';
      right.appendChild(priceEl);

      const btn = document.createElement('button');
      btn.className = 'add-btn';
      btn.type = 'button';
      btn.innerHTML = `<i class="fa-solid fa-circle-plus"></i> Sepete Ekle`;
      btn.addEventListener('click', ()=> addToCart(name, price), {passive:true});
      right.appendChild(btn);

      row.appendChild(right);
    });

    // Kategori aÃ§/kapa
    document.querySelectorAll('#menuRoot .cat h2').forEach(h=>{
      if(!h.dataset.bound){
        h.addEventListener('click',()=> h.parentElement.classList.toggle('open'), {passive:true});
        h.dataset.bound = '1';
      }
    });
  }

  /* ===== MENU DATA: read, render, persist ===== */
  function readMenuFromDOM(){
    const root = document.getElementById('menuRoot');
    const sections = Array.from(root.querySelectorAll(':scope > section.cat'));
    const data = sections.map(sec=>{
      const title = sec.querySelector('h2')?.childNodes[1]?.textContent?.trim() || sec.querySelector('h2')?.textContent?.replace(/\s*<.*$/,'').trim();
      const items = Array.from(sec.querySelectorAll('.content .item')).map(row=>{
        const name = row.querySelector('.name')?.textContent?.trim() || '';
        const price = parsePrice(row.querySelector('.price')?.textContent?.trim() || '0,00');
        return { name, price };
      }).filter(i=>i.name);
      return { title, items };
    });
    return data.filter(c=>c.title && c.items.length);
  }

  function renderMenuFromData(menuData){
    const root = document.getElementById('menuRoot');
    root.innerHTML = menuData.map((cat,idx)=>{
      const itemsHTML = cat.items.map(it=>`
        <div class="item">
          <span class="name">${it.name}</span>
          <span class="price">${formatTL(it.price)}</span>
        </div>
      `).join('');
      return `
        <section class="cat ${idx===0?'open':''}">
          <h2>${iconForCategory(cat.title)} ${cat.title} <i class="fa-solid fa-chevron-right chev"></i></h2>
          <div class="content">${itemsHTML}</div>
        </section>
      `;
    }).join('');
    enhanceMenu();
  }

  function iconForCategory(title){
    const t = (title||'').toLowerCase();
    if(t.includes('pide')) return '<i class="fa-solid fa-pizza-slice"></i>';
    if(t.includes('lahmacun')) return '<i class="fa-solid fa-bread-slice"></i>';
    if(t.includes('kebap') || t.includes('Ä±zgara')) return '<i class="fa-solid fa-fire-burner"></i>';
    if(t.includes('kiremit')) return '<i class="fa-solid fa-bowl-food"></i>';
    if(t.includes('iÃ§ecek')) return '<i class="fa-solid fa-mug-saucer"></i>';
    if(t.includes('dÃ¼rÃ¼m')) return 'ğŸŒ¯';
    if(t.includes('kampanya')) return 'ğŸ‰';
    return 'ğŸ½ï¸';
  }

  function loadMenu(){
    const raw = localStorage.getItem(LS_MENU);
    if(raw){
      try{
        const data = JSON.parse(raw);
        if(Array.isArray(data) && data.length){
          renderMenuFromData(data);
          return;
        }
      }catch(e){}
    }
    // LocalStorage yoksa: mevcut statik DOM'u enhance et
    enhanceMenu();
  }

  /* ===== ADMIN PANEL ===== */
  const adminOverlay = document.getElementById('adminOverlay');
  const adminContent = document.getElementById('adminContent');
  const closeAdminBtn = document.getElementById('closeAdmin');

  function openAdmin(){
    const data = getMenuData();
    buildAdminUI(data);
    adminOverlay.hidden = false;
    document.body.classList.add('lock-scroll');
  }
  function closeAdmin(){
    adminOverlay.hidden = true;
    document.body.classList.remove('lock-scroll');
  }

  closeAdminBtn.addEventListener('click', closeAdmin, {passive:true});
  adminOverlay.addEventListener('click', (e)=>{ if(e.target===adminOverlay) closeAdmin(); }, {passive:true});
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && !adminOverlay.hidden) closeAdmin(); });

  // Alt+P kÄ±sayolu ve ÅŸifre
  document.addEventListener('keydown', (e)=>{
    if(e.altKey && e.key.toLowerCase()==='p'){
      e.preventDefault();
      const pass = prompt('YÃ¶netici ÅŸifresini girin:');
      if(pass === 'feritefe213'){ openAdmin(); }
      else if(pass!==null){ alert('HatalÄ± ÅŸifre'); }
    }
  });

  function getMenuData(){
    const raw = localStorage.getItem(LS_MENU);
    if(raw){
      try{ const data = JSON.parse(raw); if(Array.isArray(data)&&data.length) return data; }catch(e){}
    }
    return readMenuFromDOM();
  }

  function buildAdminUI(menu){
    adminContent.innerHTML = '';
    menu.forEach((cat, ci)=>{
      const wrap = document.createElement('div');
      wrap.className = 'admin-cat';
      wrap.innerHTML = `
        <h4>${iconForCategory(cat.title)} ${cat.title}</h4>
        <div class="mini-actions">
          <button class="a-btn" data-act="addItem" data-ci="${ci}"><i class="fa-solid fa-plus"></i> ÃœrÃ¼n Ekle</button>
          <button class="a-btn danger" data-act="delCat" data-ci="${ci}"><i class="fa-solid fa-trash"></i> Kategoriyi Sil</button>
          <button class="a-btn" data-act="renameCat" data-ci="${ci}"><i class="fa-solid fa-pen"></i> AdÄ±nÄ± DeÄŸiÅŸtir</button>
        </div>
        <div class="cat-items" data-ci="${ci}"></div>
      `;
      adminContent.appendChild(wrap);

      const itemsBox = wrap.querySelector('.cat-items');
      cat.items.forEach((it, ii)=>{
        const row = document.createElement('div');
        row.className = 'admin-row';
        row.dataset.ci = ci;
        row.dataset.ii = ii;
        row.innerHTML = `
          <input type="text" placeholder="ÃœrÃ¼n adÄ±" value="${it.name}">
          <input type="text" placeholder="Fiyat (Ã¶r: 150,00)" value="${formatTL(it.price).replace(CURRENCY,'')}">
          <button class="a-btn danger" data-act="delItem">Sil</button>
        `;
        itemsBox.appendChild(row);
      });
    });

    // Kategori & Ã¼rÃ¼n butonlarÄ±
    adminContent.querySelectorAll('[data-act="addItem"]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const ci = +btn.dataset.ci;
        const box = adminContent.querySelector(`.cat-items[data-ci="${ci}"]`);
        const row = document.createElement('div');
        row.className = 'admin-row';
        row.dataset.ci = ci;
        row.dataset.ii = box.children.length;
        row.innerHTML = `
          <input type="text" placeholder="ÃœrÃ¼n adÄ±" value="">
          <input type="text" placeholder="Fiyat (Ã¶r: 150,00)" value="">
          <button class="a-btn danger" data-act="delItem">Sil</button>
        `;
        box.appendChild(row);
      }, {passive:true});
    });

    adminContent.querySelectorAll('[data-act="delCat"]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        if(confirm('Bu kategoriyi silmek istiyor musunuz?')){
          const ci = +btn.dataset.ci;
          menu.splice(ci,1);
          buildAdminUI(menu);
        }
      }, {passive:true});
    });

    adminContent.querySelectorAll('[data-act="renameCat"]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const ci = +btn.dataset.ci;
        const nv = prompt('Yeni kategori adÄ±:', menu[ci].title);
        if(nv && nv.trim()){ menu[ci].title = nv.trim(); buildAdminUI(menu); }
      }, {passive:true});
    });

    adminContent.addEventListener('click',(e)=>{
      const t = e.target.closest('[data-act="delItem"]');
      if(t){
        const row = t.closest('.admin-row');
        row.parentElement.removeChild(row);
      }
    });

    // Ãœst butonlar
    document.getElementById('addCategory').onclick = ()=>{
      const name = prompt('Kategori adÄ±:');
      if(name && name.trim()){
        menu.push({title:name.trim(), items:[]});
        buildAdminUI(menu);
      }
    };
    document.getElementById('exportMenu').onclick = ()=>{
      const data = collectAdminData(menu);
      const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'menu.json'; a.click();
      URL.revokeObjectURL(url);
    };
    document.getElementById('importFile').onchange = (ev)=>{
      const file = ev.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{
        try{
          const imp = JSON.parse(reader.result);
          if(Array.isArray(imp) && imp.length){
            buildAdminUI(imp);
            alert('JSON menÃ¼ yÃ¼klendi. Kaydetâ€™e basarak uygulayÄ±n.');
          }else alert('GeÃ§ersiz JSON formatÄ±.');
        }catch(err){ alert('JSON okunamadÄ±.'); }
      };
      reader.readAsText(file);
    };
    document.getElementById('resetMenu').onclick = ()=>{
      if(confirm('VarsayÄ±lan (sayfadaki) menÃ¼ye dÃ¶nÃ¼lsÃ¼n mÃ¼? TÃ¼m yerel deÄŸiÅŸiklikler silinir.')){
        localStorage.removeItem(LS_MENU);
        closeAdmin();
        renderDefaultOrStored();
      }
    };

    document.getElementById('saveAdmin').onclick = ()=>{
      const data = collectAdminData(menu);
      if(!data.length){ alert('En az bir kategori ve Ã¼rÃ¼n olmalÄ±.'); return; }
      localStorage.setItem(LS_MENU, JSON.stringify(data));
      closeAdmin();
      renderMenuFromData(data);
      alert('MenÃ¼ kaydedildi.');
    };
  }

  function collectAdminData(currentMenu){
    // adminContent iÃ§indeki form elemanlarÄ±nÄ± okuyarak final data Ã¼ret
    const cats = Array.from(adminContent.querySelectorAll('.admin-cat'));
    const data = [];
    cats.forEach((catBox)=>{
      let title = catBox.querySelector('h4')?.textContent || '';
      // h4 iÃ§inde ikon olabilir, baÅŸtaki emoji/ikonlarÄ± temizleyelim:
      title = title.replace(/^(\s*[\uD800-\uDBFF][\uDC00-\uDFFF]|\s*[^a-zA-ZÄŸÃ¼ÅŸÃ¶Ã§Ä±Ä°ÄÃœÅÃ–Ã‡0-9]*\s*)*/,'').trim();
      // rename yapÄ±lmÄ±ÅŸ olabilir; buildAdminUI menÃ¼den alÄ±yor â€” gÃ¼venli olan:
      const idx = Array.from(adminContent.children).indexOf(catBox);
      if(currentMenu[idx]) title = currentMenu[idx].title;

      const items = [];
      catBox.querySelectorAll('.admin-row').forEach(row=>{
        const name = row.querySelector('input[type="text"]:nth-child(1)')?.value?.trim();
        let priceStr = row.querySelector('input[type="text"]:nth-child(2)')?.value?.trim() || '';
        if(!name) return;
        // "150,00" veya "150" kabul edelim
        priceStr = priceStr.replace(/\s/g,'').replace('â‚º','');
        if(priceStr.includes(',')) priceStr = priceStr.replace('.','').replace(',','.');
        const price = parseFloat(priceStr) || 0;
        items.push({name, price});
      });
      if(title && items.length) data.push({title, items});
    });
    return data;
  }

  /* ===== Harita: tÄ±klayÄ±nca yÃ¼kle ===== */
  function setupLazyMap(){
    const btn = document.getElementById('showMap');
    const holder = document.getElementById('mapHolder');
    if(!btn) return;
    btn.addEventListener('click', function(){
      if(holder.dataset.loaded) return;
      holder.innerHTML = '<iframe title="Buca Ã‡Ä±tÄ±r Pide Konum" style="width:100%;height:320px;border:0;border-radius:12px" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=Menderes,%20Erdem%20Cd.%20No:125%20Buca/Ä°zmir&output=embed"></iframe>';
      holder.dataset.loaded = '1';
      this.style.display='none';
    }, {passive:true});
  }

  function renderDefaultOrStored(){
    loadMenu(); // stored varsa onu render eder, yoksa statik DOM'u enhance eder
  }

  /* ===== Init ===== */
  window.addEventListener('DOMContentLoaded', ()=>{
    renderDefaultOrStored();
    loadCart();
    setupLazyMap();
  }, {passive:true});
</script>

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"Restaurant",
  "name":"Buca Ã‡Ä±tÄ±r Pide",
  "address":{"@type":"PostalAddress","streetAddress":"Menderes, Erdem Cd. No:125","addressLocality":"Buca","addressRegion":"Ä°zmir","addressCountry":"TR"},
  "telephone":"+90-232-442-4555",
  "servesCuisine":["TÃ¼rk","Pide","Kebap","Lahmacun"],
  "priceRange":"â‚ºâ‚º"
}
</script>

<footer style="text-align:center; font-size:0.8em; color:#9aa6bb; padding:10px 0;">
  Â© 2025 Ferit Tahir Asil tarafÄ±ndan hazÄ±rlanmÄ±ÅŸtÄ±r
</footer>
</body>
</html>
